(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee196fd2"],{"35b7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bg",staticStyle:{overflow:"auto"}},[s("header-cmp",{attrs:{title:e.$t("Login")}}),s("img",{staticClass:"logo",attrs:{src:a("4484"),alt:""}}),s("div",{staticClass:"container"},[s("div",{staticClass:"input_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginData.memId,expression:"loginData.memId"}],attrs:{type:"text",placeholder:e.$t("Placehoder_Accout")},domProps:{value:e.loginData.memId},on:{input:function(t){t.target.composing||e.$set(e.loginData,"memId",t.target.value)}}}),s("span",{staticClass:"clear",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$clearInput("loginData","memId")}}})]),s("div",{staticClass:"input_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginData.password,expression:"loginData.password"}],ref:"passwordInput",attrs:{type:"password",placeholder:e.$t("Placeholder_Password")},domProps:{value:e.loginData.password},on:{input:function(t){t.target.composing||e.$set(e.loginData,"password",t.target.value)}}}),s("span",{ref:"passwordButton",staticClass:"hide",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$togglePassword("password")}}})]),s("div",{staticClass:"input_box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginData.imgCode,expression:"loginData.imgCode"}],attrs:{type:"tel",placeholder:e.$t("Placeholder_Validation")},domProps:{value:e.loginData.imgCode},on:{input:function(t){t.target.composing||e.$set(e.loginData,"imgCode",t.target.value)}}}),s("span",{staticClass:"imgcode",attrs:{href:"#"}},[s("img",{attrs:{src:e.imgCode},on:{click:function(t){return t.preventDefault(),e.changeImgCode(t)}}})])]),s("div",{staticClass:"rememberPasswordBox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberPassword,expression:"rememberPassword"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:e.rememberPassword,checked:Array.isArray(e.rememberPassword)?e._i(e.rememberPassword,null)>-1:e.rememberPassword},on:{change:function(t){var a=e.rememberPassword,s=t.target,o=!!s.checked;if(Array.isArray(a)){var r=null,n=e._i(a,r);s.checked?n<0&&(e.rememberPassword=a.concat([r])):n>-1&&(e.rememberPassword=a.slice(0,n).concat(a.slice(n+1)))}else e.rememberPassword=o}}}),s("label",{attrs:{for:"checkbox"}},[e._v("記住密碼")])]),s("a",{staticClass:"btn btn-round btn-blue",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("\n      "+e._s(e.$t("Login"))+"\n    ")]),s("p",{staticClass:"pwd-box"},[s("a",{staticClass:"pwd",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v(e._s(e.$t("Register")))]),s("span",[e._v(" | ")]),s("a",{staticClass:"pwd",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.pwd(t)}}},[e._v(e._s(e.$t("Forget_Password")))])])])],1)},o=[],r=a("365c"),n={data:function(){return{loginData:{memId:"",password:"",imgCode:""},imgCode:"https://api-btbh.linsio.cn/api/Account/GetImgCode",rememberPassword:!0}},created:function(){var e=this;document.onkeypress=function(t){var a=document.all?event.keyCode:t.which;if(13==a)return e.login(),!1}},mounted:function(){this.changeImgCode(),this.getLogininfo()},methods:{login:function(){var e=this;this.$verifyData(this.loginData)&&(1==this.rememberPassword?this.setLogininfo(this.loginData.memId,this.loginData.password):this.clearLogininfo(),Object(r["T"])(this.loginData).then(function(t){if(1==t.result)return e.$storage.local.set("token",t.data.accessToken),e.$storage.local.set("isGuest",!1),e.$storage.local.set("expireInMinutes",Date.now()+60*t.data.expireInMinutes*1e3),e.$storage.local.set("logintime",(new Date).getTime()),void e.$router.push({name:"main"});e.changeImgCode()}))},register:function(){this.$router.push({name:"register"})},pwd:function(){this.$router.push({name:"forgetpassword",params:{id:"verify"}})},changeImgCode:function(){this.imgCode="https://api-btbh.linsio.cn/api/Account/GetImgCode?o="+Math.random()},setLogininfo:function(e,t){localStorage.setItem("userName",e),localStorage.setItem("userPwd",t)},getLogininfo:function(){this.loginData.memId=localStorage.getItem("userName"),this.loginData.password=localStorage.getItem("userPwd")},clearLogininfo:function(){localStorage.setItem("userName",""),localStorage.setItem("userPwd","")}}},i=n,c=(a("8e6c"),a("2877")),l=Object(c["a"])(i,s,o,!1,null,"0aeff5fb",null);t["default"]=l.exports},"56ec":function(e,t,a){},"8e6c":function(e,t,a){"use strict";var s=a("56ec"),o=a.n(s);o.a}}]);
//# sourceMappingURL=chunk-ee196fd2.c077a063.js.map