(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-923e8fd2"],{"0944":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"outer"},[s("header-cmp",{attrs:{title:t.$t("Message_Box")}}),s("section",{ref:"scroll",staticClass:"messages",on:{scroll:function(e){return t.$scrollLoad(t.loadMore,e)}}},[t.messages.length>0?s("div",t._l(t.messages,function(e,a){return s("div",{key:a,staticClass:"message",on:{click:function(s){return t.myMessage(e.message,e.createTime,e.id)}}},[s("div",{staticClass:"top"},[s("div",{staticClass:"title"},[e.isRead?t._e():s("div",{staticClass:"read"}),s("div",{staticClass:"name"},[t._v(t._s(e.subjectName))])]),s("div",{staticClass:"icon"})]),s("div",{staticClass:"buttom"},[s("div",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(e.createTime)))])])])}),0):s("div",{staticClass:"noData"},[t._v(t._s(t.$t("NoData")))])])],1)},i=[],n=s("365c"),o=s("5d2d"),l=s("ab99"),c={mixins:[l["a"]],data:function(){return{messages:[],pageIndex:1,bottomStatus:"",allLoaded:!1,totalCount:""}},mounted:function(){this.getMessage()},methods:{getMessage:function(){var t=this,e={pageIndex:1,pageSize:10};Object(n["D"])(e).then(function(e){1===e.result&&(t.messages=e.data.internalMessageDTOs,t.totalCount=e.data.totalCount,e.data.totalCount>10?t.allLoaded=!1:t.allLoaded=!0)})},myMessage:function(t,e,s){e=this.$options.filters.dateFormat(e),o["a"].session.set("message",{message:t,time:e,id:s}),this.$router.push({name:"mynews"})},loadMore:function(){var t=this;if(Math.ceil(this.totalCount/10)>this.pageIndex){this.pageIndex++;var e={pageIndex:this.pageIndex,pageSize:10};Object(n["D"])(e).then(function(e){var s=t.messages;t.messages=s.concat(e.data.internalMessageDTOs),t.allLoaded=t.messages.length===e.data.totalCount})}}},filters:{dateFormat:function(t){return t}}},r=c,d=(s("fd23"),s("2877")),u=Object(d["a"])(r,a,i,!1,null,null,null);e["default"]=u.exports},ab99:function(t,e,s){"use strict";e["a"]={data:function(){return{timer:""}},methods:{$scrollLoad:function(t,e){e.target.scrollHeight-e.target.scrollTop<=e.target.clientHeight+10&&(clearTimeout(this.timer),this.timer=setTimeout(function(){t(e)},40))}}}},b29a:function(t,e,s){},fd23:function(t,e,s){"use strict";var a=s("b29a"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-923e8fd2.4e313d11.js.map